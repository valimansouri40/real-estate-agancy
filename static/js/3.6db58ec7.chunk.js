(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{120:function(e,t,a){"use strict";function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return c}))},121:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var c=a(120);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},122:function(e,t,a){e.exports={Addplace:"addplace_Addplace_2gz8X",inp:"addplace_inp_FkbPD",inputform:"addplace_inputform_1UrlM",goback:"addplace_goback_Xrdbr",label_img:"addplace_label_img_13lnD",label:"addplace_label_1eoM7",index_image:"addplace_index_image_17Tdh",sabt:"addplace_sabt_2kSWv",location:"addplace_location_1TkfS",loc:"addplace_loc_25vaz",loc2:"addplace_loc2_3CUTo",spn:"addplace_spn_twCQE",notvalid:"addplace_notvalid_2Msnc",error:"addplace_error_3CcFt"}},128:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(20),r=a.n(n),l=a(28),i=a(120),o=a(121),p=a(3),s=a(0),u=a(122),b=a.n(u),j=function(e){var t=[b.a.inputform];e.touch&&e.prtouch&&t.push(b.a.notvalid);var a=null;switch(e.elconfig){case"input":a=Object(c.jsx)("input",Object(o.a)(Object(o.a)({className:t.join(" ")},e.eltype),{},{onChange:e.change,value:e.value}));case"input":a=Object(c.jsx)("input",Object(o.a)(Object(o.a)({className:t.join(" ")},e.eltype),{},{onChange:e.change,value:e.value}));break;case"check":a=Object(c.jsx)("textarea",Object(o.a)(Object(o.a)({onChange:e.change},e.eltype),{},{className:b.a.inputform,style:{maxWidth:"70%"}}));break;case"select":a=Object(c.jsx)("select",{className:t.join(" "),value:e.value,onChange:e.change,children:e.eltype.option.map((function(e,t){return Object(c.jsx)("option",{children:e.val},t)}))});break;default:a=Object(c.jsx)("input",Object(o.a)(Object(o.a)({className:t.join(" ")},e.eltype),{},{onChange:e.change,value:e.value}))}return a},d=a(29),h=a(67),O=a(62),g=a(52),f=a(13);t.default=function(e){var t=Object(s.useState)(),a=Object(p.a)(t,2),n=a[0],u=a[1],m=Object(s.useState)(!0),v=Object(p.a)(m,2),x=v[0],y=v[1],_=Object(s.useState)(""),k=Object(p.a)(_,2),N=k[0],C=k[1],w=Object(s.useState)(""),P=Object(p.a)(w,2),z=P[0],S=P[1],D=Object(s.useState)(!1),q=Object(p.a)(D,2),T=q[0],E=q[1],A=Object(s.useRef)(),F=Object(s.useContext)(d.a).postplacehandller,M=Object(s.useContext)(d.a).post,$=Object(s.useContext)(d.a).loading,J=Object(s.useState)({name:{tag:"input",proptype:{type:"text",placeholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"},value:"",prtouch:!1,touch:!1,proplength:{requier:!0,maxlength:18,minlength:2}},text:{tag:"check",proptype:{placeholder:"\u0645\u062a\u0646 \u0627\u0636\u0627\u0641\u06cc"},value:"",proplength:{requier:!0}},price:{tag:"input",proptype:{type:"text",placeholder:"\u0642\u06cc\u0645\u062a"},value:"",prtouch:!1,touch:!1,proplength:{requier:!0,maxlength:15,minlength:4,isNumeric:!0}},addres:{tag:"check",proptype:{placeholder:"\u0622\u062f\u0631\u0633"},value:"",proplength:{requier:!0}},number:{tag:"input",proptype:{type:"",placeholder:"\u0634\u0645\u0627\u0631\u0647"},value:"",prtouch:!1,touch:!1,proplength:{requier:!0,maxlength:12,minlength:6,isNumeric:!0}},tipic:{tag:"select",proptype:{option:[{val:"\u0632\u0645\u06cc\u0646"},{val:"\u06a9\u0627\u0631\u06cc"},{val:"\u062e\u0627\u0646\u0647"}]},value:"\u06a9\u0627\u0631\u06cc",prtouch:!1,touch:!1}}),U=Object(p.a)(J,2),W=U[0],X=U[1];Object(s.useEffect)((function(){var e=A.current;null!==H&&C(e.value);var t=!0;for(var a in W)t=""!==W[a].value&&(W[a].touch&&t);y(t)}),[x,W,A]),M&&e.history.replace("/");var B=function(e,t){var a=!0;if(!t)return!0;if(t.requier&&(a=""!==e.trim()&&a),t.minlength&&(a=e.length>=t.minlength&&a),t.maxlength&&(a=e.length<=t.maxlength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}return a},L=[];for(var Q in W)L.push({config:W[Q],key:Q});var R=null,G=function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FormData).append("Name",W.name.value),t.append("Tipic",W.tipic.value),t.append("extraText",W.text.value),t.append("PhoneNumber",W.number.value),t.append("Price",W.price.value),t.append("address",W.addres.value),t.append("Tipical",N),n&&(t.append("photo",n[0]),t.append("photo",n[1]),t.append("photo",n[2])),""!==z&&t.append("Location",z?z.lng+","+z.lat:""),F(t),M&&(R=Object(c.jsx)("p",{className:b.a.error,children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0635\u062d\u06cc\u062d \u0646\u06cc\u0633\u062a!!!"}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=null;switch(W.tipic.value){case"\u06a9\u0627\u0631\u06cc":H=Object(c.jsxs)("select",{className:b.a.inputform,ref:A,children:[Object(c.jsx)("option",{children:"\u0645\u063a\u0627\u0632\u0647"}),Object(c.jsx)("option",{children:"\u062f\u0641\u062a\u0631 \u0627\u062f\u0627\u0631\u06cc"}),Object(c.jsx)("option",{children:"\u062f\u0641\u062a\u0631 \u062a\u062c\u0627\u0631\u06cc"})]});break;case"\u062e\u0627\u0646\u0647":H=Object(c.jsxs)("select",{className:b.a.inputform,ref:A,children:[Object(c.jsx)("option",{children:"\u0622\u067e\u0627\u0631\u062a\u0645\u0627\u0646"}),Object(c.jsx)("option",{children:"\u0648\u06cc\u0644\u0627"})]});break;case"\u0632\u0645\u06cc\u0646":H=Object(c.jsxs)("select",{className:b.a.inputform,ref:A,children:[Object(c.jsx)("option",{children:"\u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a"}),Object(c.jsx)("option",{children:"\u06a9\u0634\u0627\u0648\u0631\u0632\u06cc"})]})}var I=function(){E((function(e){return!e}))};return $?Object(c.jsx)(f.a,{}):Object(c.jsxs)("div",{className:b.a.Addplace,style:Object(i.a)({height:"130vh",position:"relative",width:"100%"},"position","relative"),children:[Object(c.jsx)("button",{className:b.a.goback,onClick:function(){e.history.goBack()},children:"\u0628\u0627\u0632 \u06af\u0634\u062a \u0628\u0647 \u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"}),R,Object(c.jsxs)("div",{className:b.a.inp,children:[L.map((function(e){return Object(c.jsx)(j,{eltype:e.config.proptype,elconfig:e.config.tag,change:function(t){return function(e,t){var a=Object(o.a)(Object(o.a)({},W),{},Object(i.a)({},t,Object(o.a)(Object(o.a)({},W[t]),{},{value:e.target.value,touch:B(e.target.value,W[t].proplength),prtouch:!0})));X(a)}(t,e.key)},value:e.config.value,touch:!e.config.touch,prtouch:e.config.prtouch,proplength:e.config.proptype},e.key)})),H,T?Object(c.jsxs)("div",{className:b.a.loc2,children:[T?Object(c.jsx)("img",{onClick:I,className:b.a.spn,src:O.a}):Object(c.jsx)("img",{onClick:I,className:b.a.spn,src:h.a}),Object(c.jsx)(g.a,{size:T,center:[51.387917487548265,35.69558343945812],click:S,popup:z})]}):Object(c.jsx)("button",{className:b.a.location,onClick:function(e){return E(!0)},children:z?"\u062a\u063a\u06cc\u06cc\u0631 \u0645\u0648\u0642\u0639\u06cc\u062a \u0645\u06a9\u0627\u0646\u06cc":"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u0648\u0642\u0639\u06cc\u062a \u0645\u06a9\u0627\u0646\u06cc"}),Object(c.jsxs)("div",{className:b.a.label_img,children:[Object(c.jsx)("label",{for:"img",title:"\u062d\u062f\u0627\u06a9\u062b\u0631 \u0633\u0647 \u062a\u0635\u0648\u06cc\u0631 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f",className:b.a.label,children:n?"\u062a\u063a\u06cc\u06cc\u0631 \u0639\u06a9\u0633 \u0647\u0627":"\u0639\u06a9\u0633 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),Object(c.jsx)("input",{type:"file",name:"file",multiple:!0,id:"img",style:{visibility:"hidden",display:"none"},onChange:function(e){u(e.target.files)}})]}),Object(c.jsx)("button",{className:b.a.sabt,onClick:G,disabled:!x,children:"\u062b\u0628\u062a"})]})]})}}}]);
//# sourceMappingURL=3.6db58ec7.chunk.js.map